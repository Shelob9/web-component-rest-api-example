<link rel="import" href="bower_components/polymer/polymer.html">
<dom-module id="wp-api-image" attributes="img">
    <template>
        <span id="{{img}}" class="-wp-api-image" />
    </template>
    <script>
        Polymer({
            is: 'wp-api-image',
            properties :{
                img: String,
            },
            ready: function() {
                if( 0 == this.img ) {
                    return;
                }

                var fURL, placeHolder, imgID;

                placeHolder =  $( this ).children().first();
                fURL = 'http://joshpress.net/wp-json/wp/v2/media/' + this.img;
                $.when( $.ajax( fURL ) ).then(function( data, textStatus, jqXHR ) {
                    if ( 'success' == textStatus ) {
                        var img = document.createElement("img");
                        img.setAttribute( 'src', data.source_url );
                        img.setAttribute( 'alt', data.alt_text );
                        img.setAttribute( 'class', 'featured-image'  );
                        placeHolder.append( img );
                    }


                });

            }
        });
        Polymer({
	        is: 'wp-api-content',
	        properties: {
		        'content' : String,
	        },
	        ready: function() {
		        this.innerHTML = this.content;
	        }
        })
    </script>
</dom-module>
